---
import '../styles/global.css';

interface Props {
  title: string;
  description?: string;
  lang?: string;
}

const { title, description = "Aperto - An accessible Bible translation", lang = "en" } = Astro.props;
const rawBase = import.meta.env.BASE_URL;
const base = rawBase.endsWith('/') ? rawBase : rawBase + '/';
---

<!DOCTYPE html>
<html lang={lang}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <link rel="icon" type="image/svg+xml" href={`${base}favicon.svg`} />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" rel="stylesheet" />
    <title>{title} | Aperto</title>
  </head>
  <body class="min-h-screen" style="background-color: #FFFBF5;">
    <header class="px-8 md:px-16 lg:px-24 py-8" style="border-bottom: 1px solid #F5E6DC;">
      <nav class="max-w-6xl mx-auto flex justify-between items-center">
        <a href={base} class="logo text-2xl" style="color: #2C2C2C;">
          aperto
        </a>
        <div class="flex gap-8 items-center">
          <a href={`${base}about`} class="transition-colors" style="color: #9A8F85;">About</a>
          <a href={`${base}process`} class="transition-colors" style="color: #9A8F85;">Our Process</a>
          <div class="flex gap-2 text-sm">
            <a href={`${base}de/luke/1`} class="px-3 py-1 rounded transition-all" style="border: 1px solid #F5E6DC; color: #2C2C2C;">DE</a>
            <a href={`${base}en/luke/1`} class="px-3 py-1 rounded transition-all" style="border: 1px solid #F5E6DC; color: #2C2C2C;">EN</a>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <slot />
    </main>

    <footer class="px-8 md:px-16 lg:px-24 py-16 mt-24" style="border-top: 1px solid #F5E6DC; background-color: rgba(245, 230, 220, 0.3);">
      <div class="max-w-6xl mx-auto">
        <div class="grid md:grid-cols-3 gap-12">
          <div>
            <h4 class="text-xl mb-4">Aperto</h4>
            <p class="text-sm leading-relaxed" style="color: #9A8F85;">
              A fresh translation that welcomes everyone to the conversation.
            </p>
          </div>
          <div>
            <h4 class="text-xl mb-4">Navigate</h4>
            <ul class="space-y-2 text-sm">
              <li><a href={base} style="color: #9A8F85;">Home</a></li>
              <li><a href={`${base}about`} style="color: #9A8F85;">About</a></li>
              <li><a href={`${base}process`} style="color: #9A8F85;">Our Process</a></li>
              <li><a href={`${base}de/luke/1`} style="color: #9A8F85;">Lukas 1 (DE)</a></li>
              <li><a href={`${base}en/luke/1`} style="color: #9A8F85;">Luke 1 (EN)</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-xl mb-4">License</h4>
            <p class="text-sm leading-relaxed" style="color: #9A8F85;">
              CC BY-SA 4.0<br>
              Free to share and adapt with attribution.
            </p>
          </div>
        </div>
        <div class="mt-12 pt-8 text-center text-sm" style="border-top: 1px solid #F5E6DC; color: #9A8F85;">
          2025 Aperto Bible Project
        </div>
      </div>
    </footer>
  </body>
</html>
